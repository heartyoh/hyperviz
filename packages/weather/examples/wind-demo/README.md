# 바람 레이어 데모

이 예제는 hyperviz/weather 모듈의 WindLayer를 활용한 바람 시각화 데모입니다.

## 기능

- 오프스크린캔버스와 워커를 사용한 바람 시각화
- 한반도 지역의 시뮬레이션된 바람 데이터 표시
- 바람 레이어의 다양한 시각화 옵션 조정 가능
- IndexedDB 기반 날씨 데이터 캐시

## 사용 방법

1. 먼저 패키지 빌드:

```bash
cd /Users/super/Documents/GitHub/hyperviz
npm run build
```

2. 예제 실행:

```bash
cd packages/weather/examples/wind-demo
# 웹 서버 실행 (로컬 파일 CORS 문제 방지)
npx http-server -p 8080
```

3. 브라우저에서 `http://localhost:8080`으로 접속

## 컨트롤

- **바람 레이어 표시**: 레이어 표시/숨김 전환
- **최대 풍속**: 시각화에서 표현될 최대 풍속 설정 (5~30 m/s)
- **파티클 밀도**: 화면에 표시되는 파티클 수 조절 (0.2~2.0)
- **페이드 효과**: 파티클 흔적의 지속 시간 조절 (0.8~0.98)
- **선 두께**: 파티클 선의 두께 조절 (0.5~3.0)

## 구현 상세

이 데모는 다음 hyperviz/weather 모듈의 주요 구성 요소를 보여줍니다:

1. **워커 시스템 초기화**: 오프스크린캔버스를 사용할 워커 스레드 준비
2. **날씨 서비스**: 모의 날씨 데이터 생성 및 IndexedDB 캐싱
3. **바람 레이어**: 오프스크린캔버스에서 파티클 시스템으로 바람 흐름을 시각화
4. **이벤트 처리**: 지도 이동 및 줌에 반응하여 데이터 업데이트

## 이 예제에서 볼 수 있는 장점

- 메인 스레드의 부하가 낮음 (애니메이션과 렌더링이 워커 스레드에서 처리)
- 지도 조작이 매우 부드러움 (렌더링이 메인 스레드를 차단하지 않음)
- 넓은 영역의 많은 데이터도 효율적으로 처리
